---
layout: base.njk
hideSidebar: true
---


{% if listType == "folder" %}
  {# è‡ªåŠ¨ä»æ–‡ä»¶è·¯å¾„æ¨å¯¼æ–‡ä»¶å¤¹åï¼Œå¦‚æœæ²¡æœ‰æ‰‹åŠ¨è®¾ç½®itemNameçš„è¯ #}
  {% if not itemName %}
    {% set pathParts = page.inputPath.split('/') %}
    {% set folderName = pathParts[pathParts.length - 2] %}
    {% set autoItemName = folderName %}
  {% else %}
    {% set autoItemName = itemName %}
  {% endif %}
  {% set posts = collections.postsByFolder[autoItemName] %}
  {# ä¼˜å…ˆä½¿ç”¨ _index.md æ–‡ä»¶ä¸­çš„ titleï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨æ–‡ä»¶å¤¹å #}
  {% set displayName = title or autoItemName %}
  {% set icon = "ğŸ“" %}
  {% set backUrl = "/" %}
  {% set backText = "â† é¦–é¡µ" %}
{% elif listType == "tag" %}
  {% if itemName == "untagged" %}
    {% set posts = [] %}
    {% for item in collections.content %}
      {% set fileName = item.inputPath.split('/').pop() %}
      {% if (not item.data.tags or item.data.tags.length == 0) and fileName != "_index.md" %}
        {% set posts = posts.concat([item]) %}
      {% endif %}
    {% endfor %}
    {% set displayName = "æ— æ ‡ç­¾" %}
  {% else %}
    {% set posts = collections.postsByTag[itemName] %}
    {% set displayName = itemName %}
  {% endif %}
  {% set icon = "#" %}
  {% set backUrl = "/tags/" %}
  {% set backText = "â† æ‰€æœ‰æ ‡ç­¾" %}
{% elif listType == "category" %}
  {% if itemName == "uncategorized" %}
    {% set posts = [] %}
    {% for item in collections.content %}
      {% set fileName = item.inputPath.split('/').pop() %}
      {% if not item.data.category and fileName != "_index.md" %}
        {% set posts = posts.concat([item]) %}
      {% endif %}
    {% endfor %}
    {% set displayName = "æœªåˆ†ç±»" %}
  {% else %}
    {% set posts = collections.postsByCategory[itemName] %}
    {% set displayName = itemName %}
  {% endif %}
  {% set icon = "ğŸ“‚" %}
  {% set backUrl = "/categories/" %}
  {% set backText = "â† æ‰€æœ‰åˆ†ç±»" %}
{% endif %}

<div class="note-header">
  <div class="note-header-main">
    <h1 class="note-title">
      <span class="list-icon">{{ icon }}</span>
      {{ displayName }}
    </h1>
    <a href="{{ backUrl }}" class="back-button">{{ backText }}</a>
  </div>
  <div class="note-meta">
    <span class="note-count">{{ posts.length }} ç¯‡æ–‡ç« </span>
  </div>
</div>

<div class="note-content">
  <!-- æ˜¾ç¤ºé¡µé¢æ­£æ–‡å†…å®¹ -->
  {% if content and content.trim() %}
    <div class="page-description">
      {{ content | safe }}
    </div>
  {% endif %}

  {% if posts and posts.length > 0 %}
    <div class="posts-list">
      {% for post in posts %}
        <article class="post-item">
          <time class="post-date">
            {{ post | getUpdatedDate | formatDate }}
          </time>
          
          <div class="post-title">
            <a href="{{ post.url }}" class="post-link internal-link">
              {{ post.data.title or (post.inputPath | split('/') | last | split('.') | first) or 'Untitled' }}
            </a>
          </div>
          
          <div class="post-tags">
            {% if post.data.tags and post.data.tags.length > 0 %}
              {% for tag in post.data.tags %}
                {% if listType == "tag" and tag == itemName %}
                  <span class="post-tag current-tag">{{ tag }}</span>
                {% else %}
                  <a href="/tags/{{ tag | slug }}/" class="post-tag">{{ tag }}</a>
                {% endif %}
              {% endfor %}
            {% endif %}
          </div>
        </article>
      {% endfor %}
    </div>
  {% else %}
    <p class="no-posts-message">è¿™ä¸ª{{ "æ–‡ä»¶å¤¹" if listType == "folder" else ("æ ‡ç­¾" if listType == "tag" else "åˆ†ç±»") }}ä¸‹è¿˜æ²¡æœ‰æ–‡ç« ã€‚</p>
  {% endif %}
</div>